<div class="global">
	<ga-sidebar
		(clickedNode)="clickedNode($event)"
		(deletedNode)="deletedNode()"
	></ga-sidebar>
	<div class="main">
		<nb-card class="header">
			<div class="header-article">
				<h5 *ngIf="!categoryName">
					{{ 'HELP_PAGE.CHOOSE_ANY_CATEGORY' | translate }}
				</h5>
				<h5 *ngIf="categoryName">{{ categoryName }}</h5>
				<h5 class="articles">
					{{ this.nodes.length }}
					{{ 'HELP_PAGE.ARTICLES' | translate }}
				</h5>
			</div>
			<button
				[disabled]="!categoryName"
				status="success"
				class="base-button"
				(click)="addNode()"
				nbButton
			>
				{{ 'HELP_PAGE.ADD_ARTICLE' | translate }}
				<nb-icon class="mr-1" icon="plus-outline"></nb-icon>
			</button>
		</nb-card>
		<nb-card
			class="cards"
			*ngFor="let article of this.nodes; let i = index"
		>
			<div class="main-article" (click)="openArticle(i)">
				<div class="row-name">
					<p class="name">
						{{ article.name }}
					</p>
					<p class="draft" *ngIf="article.draft === true">
						{{ 'HELP_PAGE.DRAFT' | translate }}
					</p>
					<p class="privacy" *ngIf="article.privacy === true">
						{{ 'HELP_PAGE.EMPLOYEES' | translate }}
					</p>
				</div>
				<p>{{ article.description }}</p>
				<div
					class="data"
					*ngIf="showData[i]"
					[innerHtml]="dataArray[i]"
				></div>
				<div class="user-info">
					<p>
						{{ 'HELP_PAGE.WRITTEN_BY' | translate }}
					</p>
					<div class="create-at">
						<nb-icon class="icon" icon="clock-outline"></nb-icon>
						<p>
							{{ 'HELP_PAGE.CREATED_AT' | translate }}:
							{{ article.createdAt | date: 'short' }}
						</p>
					</div>
				</div>
			</div>
			<div class="mr-3">
				<nb-icon
					class="edit-icon"
					icon="edit-outline"
					(click)="editNode(i)"
				></nb-icon>
				<nb-icon
					class="edit-icon"
					icon="trash-2-outline"
					(click)="deleteNode(i)"
				></nb-icon>
			</div>
		</nb-card>
	</div>
</div>
