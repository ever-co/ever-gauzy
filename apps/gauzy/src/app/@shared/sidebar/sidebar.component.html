<nb-card class="sidemenu">
	<nb-card-body class="sidebar">
		<button
			class="sidebar-button"
			(click)="addNode()"
			status="primary"
			nbButton
		>
			{{ 'BUTTONS.ADD' | translate }}
		</button>
		<div *ngIf="isVisibleAdd" class="add-base-field">
			<input
				type="text"
				size="24"
				ngModel
				maxlength="18"
				(keyup.enter)="addName($event)"
				nbInput
			/>
			<button
				class="input-button"
				status="danger"
				(click)="onCloseInput()"
				nbButton
			>
				<nb-icon class="mr-1" icon="close-outline"></nb-icon>
			</button>
		</div>
		<h5>{{ 'HELP_PAGE.KNOWLEDGE_BASES' | translate }}</h5>
		<tree-root #tree [nodes]="nodes" [options]="options" [focused]="true">
		</tree-root>
	</nb-card-body>
	<nb-card-body>
		<button
			*ngIf="isChosenArticle"
			class="main-buttons"
			(click)="addIcon()"
			status="success"
			nbButton
		>
			{{ 'BUTTONS.ADD_ICON' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle"
			class="main-buttons"
			(click)="removeIcon()"
			status="warning"
			nbButton
		>
			{{ 'BUTTONS.REMOVE_ICON' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle && showPrivateButton"
			class="main-buttons"
			(click)="makePrivate()"
			status="primary"
			nbButton
		>
			{{ 'BUTTONS.MAKE_PRIVATE' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle && showPublicButton"
			class="main-buttons"
			(click)="makePublic()"
			status="primary"
			nbButton
		>
			{{ 'BUTTONS.MAKE_PUBLIC' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle"
			class="main-buttons"
			(click)="onEditArticle()"
			status="warning"
			nbButton
		>
			{{ 'HELP_PAGE.EDIT_NAME' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle && showPrivateButton"
			class="main-buttons"
			(click)="onEditArticleDesc()"
			status="warning"
			nbButton
		>
			{{ 'HELP_PAGE.EDIT_DESCRIPTION' | translate }}
		</button>
		<button
			*ngIf="isChosenArticle"
			class="main-buttons"
			(click)="onDeleteArticle()"
			status="danger"
			nbButton
		>
			{{ 'BUTTONS.DELETE' | translate }}
		</button>
		<div *ngIf="isVisibleEdit" class="edit-node-field">
			<p>{{ 'HELP_PAGE.EDIT_NAME' | translate }}</p>
			<input
				type="text"
				size="24"
				ngModel
				maxlength="18"
				(keyup.enter)="editName($event)"
				nbInput
			/>
			<button
				class="input-button"
				status="danger"
				(click)="onCloseEdit()"
				nbButton
			>
				<nb-icon class="mr-1" icon="close-outline"></nb-icon>
			</button>
		</div>
		<div *ngIf="isVisibleEditDesc" class="edit-node-field">
			<p>{{ 'HELP_PAGE.EDIT_DESCRIPTION' | translate }}</p>
			<input
				type="text"
				size="24"
				ngModel
				maxlength="18"
				(keyup.enter)="editDesc($event)"
				nbInput
			/>
			<button
				class="input-button"
				status="danger"
				(click)="onCloseDesc()"
				nbButton
			>
				<nb-icon class="mr-1" icon="close-outline"></nb-icon>
			</button>
		</div>
		<div *ngIf="iconsShow && isChosenArticle">
			<p>{{ 'HELP_PAGE.CHOSE_ICON' | translate }}</p>
			<div class="add-icon-field">
				<div *ngFor="let icon of icons">
					<button
						status="basic"
						class="main-buttons"
						(click)="onIconset(icon)"
						nbButton
					>
						{{ icon }}
					</button>
				</div>
			</div>
		</div>

		<div>
			<h5>{{ articleName }}</h5>
		</div>
		<div *ngIf="isChosenArticle && showPrivateButton">
			<h6>
				{{ articleDesc }}
			</h6>
		</div>
		<div *ngIf="isChosenArticle && showPrivateButton">
			<div [innerHTML]="articleData"></div>
			<button
				class="main-buttons"
				(click)="editArticleData()"
				status="primary"
				nbButton
			>
				{{ 'BUTTONS.EDIT' | translate }}
			</button>
		</div>
		<nb-card class="content-card">
			<form [formGroup]="form" *ngIf="showDataEdit">
				<ckeditor
					[formControl]="form.controls['text']"
					(change)="onChange($event)"
					[config]="{
						width: '100%',
						height: '200'
					}"
				></ckeditor>
				<button
					*ngIf="isChosenArticle"
					class="main-buttons"
					(click)="onSaveData()"
					status="success"
					nbButton
				>
					{{ 'BUTTONS.SAVE' | translate }}
				</button>
			</form>
		</nb-card>
	</nb-card-body>
</nb-card>
