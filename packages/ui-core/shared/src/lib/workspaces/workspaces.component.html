<!-- Loading skeleton -->
<div
	*ngIf="loading$ | async"
	class="skeleton-container"
	role="status"
	aria-live="polite"
	aria-label="Loading workspaces"
	aria-busy="true"
>
	<div *ngFor="let item of [1, 2, 3]; let i = index" class="workspace-skeleton-item">
		<div class="skeleton-img-container">
			<div class="skeleton-img"></div>
		</div>
		<div class="skeleton-text"></div>
	</div>

	<div class="skeleton-add-workspace">
		<div class="skeleton-add-btn"></div>
	</div>
</div>

<!-- Workspaces list -->
<div *ngFor="let workspace of workspaces$ | async; index as i">
	<div [ngClass]="selected?.id === workspace.id ? 'selected' : ''" class="workspace-item">
		<div class="img-container">
			<img [src]="workspace.imgUrl" alt="" (click)="onChangeWorkspace(workspace)" />
			<div *ngIf="workspace.isOnline" class="online-indicator" aria-label="Online"></div>
		</div>
		<span class="workspace-name" (click)="onChangeWorkspace(workspace)">{{ workspace.name }}</span>
	</div>
</div>
<div class="add-workspace-container">
	<button
		class="add-workspace-btn"
		[nbContextMenu]="contextMenus"
		nbContextMenuTag="workspaces-menu"
		nbContextMenuPlacement="right"
		nbButton
		ghost
	>
		<nb-icon icon="plus-outline"></nb-icon>
	</button>
</div>
