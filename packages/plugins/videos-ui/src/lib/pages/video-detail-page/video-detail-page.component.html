@let timeSlotId = (video$ | async)?.timeSlotId;

<!-- Structure -->

<div class="custom-card">
	<div #detail class="custom-card-body">
		<plug-video class="w-100"></plug-video>
		<nb-tabset>
			@if(showList$ | async) {
			<nb-tab tabTitle="Videos">
				@defer(on viewport) {
				<div
					nbInfiniteList
					[threshold]="500"
					[throttleTime]="300"
					(bottomThreshold)="fetchMoreVideos()"
					class="list"
				>
					<plug-video-list [vertical]="true"></plug-video-list>
				</div>
				}@placeholder{
				<p>Loading videos...</p>
				}
			</nb-tab>
			} @if(timeSlotId) {
			<nb-tab tabTitle="Camshots">
				@defer(on viewport) {
				<div class="list">
					<plug-camshot-list [timeSlotId]="timeSlotId"></plug-camshot-list>
				</div>
				}@placeholder {
				<p>Loading camshots...</p>
				}
			</nb-tab>
			}
		</nb-tabset>
	</div>
</div>
