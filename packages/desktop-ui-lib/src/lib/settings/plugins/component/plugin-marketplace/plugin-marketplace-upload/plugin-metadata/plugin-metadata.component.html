<lib-form-section [formGroup]="form" title="{{ 'PLUGIN.FORM.METADATA.TITLE' | translate }}">
	<!-- Header Info -->
	<div class="metadata-header">
		<div class="header-icon-wrapper">
			<nb-icon icon="info-outline" status="info"></nb-icon>
		</div>
		<p class="header-description">{{ 'PLUGIN.FORM.METADATA.DESCRIPTION' | translate }}</p>
	</div>

	<!-- Author & License Row -->
	<lib-form-row>
		<nb-form-field class="form-group">
			<label class="label">
				<nb-icon icon="person-outline" class="label-icon"></nb-icon>
				{{ 'PLUGIN.FORM.METADATA.AUTHOR' | translate }}
			</label>
			<input
				nbInput
				fullWidth
				id="metadata-author"
				formControlName="author"
				placeholder="{{ 'PLUGIN.FORM.METADATA.AUTHOR_PLACEHOLDER' | translate }}"
				[status]="getFieldError('author') ? 'danger' : 'basic'"
			/>
			@if(getFieldError('author', 'maxlength')) {
			<nb-hint class="hint-danger">
				<nb-icon icon="alert-circle-outline"></nb-icon>
				{{ 'PLUGIN.FORM.VALIDATION.AUTHOR_TOO_LONG' | translate }}
			</nb-hint>
			}
		</nb-form-field>

		<nb-form-field class="form-group">
			<label class="label">
				<nb-icon icon="file-text-outline" class="label-icon"></nb-icon>
				{{ 'PLUGIN.FORM.METADATA.LICENSE' | translate }}
			</label>
			<input
				nbInput
				fullWidth
				id="metadata-license"
				formControlName="license"
				placeholder="{{ 'PLUGIN.FORM.METADATA.LICENSE_PLACEHOLDER' | translate }}"
				[status]="getFieldError('license') ? 'danger' : 'basic'"
			/>
			@if(getFieldError('license', 'maxlength')) {
			<nb-hint class="hint-danger">
				<nb-icon icon="alert-circle-outline"></nb-icon>
				{{ 'PLUGIN.FORM.VALIDATION.LICENSE_TOO_LONG' | translate }}
			</nb-hint>
			} @if(form.get('license')?.valid && form.get('license')?.value) {
			<nb-hint class="hint-success">
				<nb-icon icon="checkmark-circle-outline"></nb-icon>
				Valid license specified
			</nb-hint>
			}
		</nb-form-field>
	</lib-form-row>

	<!-- URLs Section -->
	<div class="urls-section">
		<div class="section-header">
			<nb-icon icon="link-2-outline" status="primary"></nb-icon>
			<h6 class="section-title">{{ 'PLUGIN.FORM.METADATA.URLS_SECTION' | translate }}</h6>
		</div>

		<lib-form-row>
			<nb-form-field class="form-group">
				<label class="label">
					<nb-icon icon="globe-outline" class="label-icon"></nb-icon>
					{{ 'PLUGIN.FORM.METADATA.HOMEPAGE' | translate }}
				</label>
				<input
					nbInput
					fullWidth
					id="metadata-homepage"
					formControlName="homepage"
					type="url"
					placeholder="{{ 'PLUGIN.FORM.METADATA.HOMEPAGE_PLACEHOLDER' | translate }}"
					[status]="getFieldError('homepage') ? 'danger' : 'basic'"
				/>
				@if(getFieldError('homepage', 'pattern')) {
				<nb-hint class="hint-danger">
					<nb-icon icon="alert-circle-outline"></nb-icon>
					{{ 'PLUGIN.FORM.VALIDATION.INVALID_URL' | translate }}
				</nb-hint>
				} @if(form.get('homepage')?.valid && form.get('homepage')?.value) {
				<nb-hint class="hint-success">
					<nb-icon icon="checkmark-circle-outline"></nb-icon>
					Valid URL
				</nb-hint>
				}
			</nb-form-field>

			<nb-form-field class="form-group">
				<label class="label">
					<nb-icon icon="code-outline" class="label-icon"></nb-icon>
					{{ 'PLUGIN.FORM.METADATA.REPOSITORY' | translate }}
				</label>
				<input
					nbInput
					fullWidth
					id="metadata-repository"
					formControlName="repository"
					type="url"
					placeholder="{{ 'PLUGIN.FORM.METADATA.REPOSITORY_PLACEHOLDER' | translate }}"
					[status]="getFieldError('repository') ? 'danger' : 'basic'"
				/>
				@if(getFieldError('repository', 'pattern')) {
				<nb-hint class="hint-danger">
					<nb-icon icon="alert-circle-outline"></nb-icon>
					{{ 'PLUGIN.FORM.VALIDATION.INVALID_URL' | translate }}
				</nb-hint>
				} @if(form.get('repository')?.valid && form.get('repository')?.value) {
				<nb-hint class="hint-success">
					<nb-icon icon="checkmark-circle-outline"></nb-icon>
					Valid repository URL
				</nb-hint>
				}
			</nb-form-field>
		</lib-form-row>
	</div>

	<!-- Optional Info Alert -->
	<nb-alert status="info" size="small" class="metadata-info-alert">
		<div class="alert-content">
			<nb-icon icon="bulb-outline"></nb-icon>
			<span>{{ 'PLUGIN.FORM.METADATA.OPTIONAL_INFO' | translate }}</span>
		</div>
	</nb-alert>
</lib-form-section>
