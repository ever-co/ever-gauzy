@if (preview) {
<nb-card class="preview-card" aria-live="polite">
	<nb-card-header class="card-header">
		<div class="header-icon" aria-hidden="true">
			<nb-icon icon="file-text-outline"></nb-icon>
		</div>
		<div class="header-copy">
			<div class="eyebrow">Order Summary</div>
			<div class="plan-name">{{ preview.planName }}</div>
		</div>
		@if (preview.trialDays && preview.trialDays > 0) {
		<nb-badge class="trial-badge" text="{{ preview.trialText }}" status="info" size="small"></nb-badge>
		}
	</nb-card-header>

	<nb-card-body>
		<div class="preview-items" role="list">
			@if (!preview.isFree) {
			<div class="preview-row" role="listitem">
				<span class="item-label">Base Amount</span>
				<span class="item-value">{{ preview.formattedBaseAmount }}</span>
			</div>

			@if (preview.setupFee > 0) {
			<div class="preview-row" role="listitem">
				<span class="item-label">Setup Fee</span>
				<span class="item-value">{{ preview.formattedSetupFee }}</span>
			</div>
			} @if (preview.discount > 0) {
			<div class="preview-row is-discount" role="listitem">
				<span class="item-label">Discount</span>
				<span class="item-value">-{{ preview.formattedDiscount }}</span>
			</div>
			}

			<div class="preview-row is-total" role="listitem">
				<span class="item-label">Total</span>
				<span class="item-value">{{ preview.formattedTotalAmount }}</span>
			</div>

			<div class="preview-row is-subtext" role="listitem">
				<span class="item-label">Billing</span>
				<span class="item-value">{{ preview.formattedBillingPeriod }}</span>
			</div>
			} @else {
			<div class="preview-row is-total" role="listitem">
				<span class="item-label">Total</span>
				<span class="item-value">Free</span>
			</div>
			}
		</div>

		@if (preview.features && preview.features.length > 0) {
		<div class="features-block">
			<div class="features-header">
				<nb-icon icon="checkmark-circle-outline" status="success"></nb-icon>
				<span>Included Features</span>
			</div>
			<nb-list class="features-list">
				@for (feature of preview.features; track feature) {
				<nb-list-item>
					<nb-icon icon="checkmark-outline" status="success"></nb-icon>
					<span>{{ feature }}</span>
				</nb-list-item>
				}
			</nb-list>
		</div>
		}
	</nb-card-body>
</nb-card>
}
