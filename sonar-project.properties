# =============================================================================
# SonarQube/SonarCloud Configuration for Ever Gauzy
# =============================================================================

# Project Identification
sonar.projectKey=ever-co_ever-gauzy
sonar.projectName=Ever Gauzy
sonar.projectVersion=0.1.0
sonar.sourceEncoding=UTF-8

# Organization (required for SonarCloud)
sonar.organization=ever-co

# =============================================================================
# Source Configuration
# =============================================================================

# Monorepo source directories (only existing top-level folders)
sonar.sources=apps,packages,.scripts,tools

# Test directories (same as sources - tests are co-located)
sonar.tests=apps,packages

# Test file patterns (TypeScript/JavaScript test files)
sonar.test.inclusions=**/*.spec.ts,**/*.test.ts,**/*.spec.tsx,**/*.test.tsx,**/*.e2e-spec.ts

# =============================================================================
# Exclusions
# =============================================================================

# Exclude dependencies, build outputs, and generated files
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/out/**,**/.angular/**,**/.nx/**,**/.cache/**,**/coverage/**,**/tmp/**,**/*.d.ts,**/*.min.js,**/*.min.css,**/assets/**,**/public/**,**/*.json,**/*.md

# Exclude test files from coverage analysis (they are analyzed as tests)
sonar.coverage.exclusions=**/*.spec.ts,**/*.test.ts,**/*.spec.tsx,**/*.test.tsx,**/*.e2e-spec.ts,**/test/**,**/tests/**,**/e2e/**,**/__mocks__/**,**/__tests__/**

# Exclude files from duplication detection
sonar.cpd.exclusions=**/*.spec.ts,**/*.test.ts,**/migrations/**,**/fixtures/**,**/*.mock.ts

# =============================================================================
# Coverage Configuration
# =============================================================================

# LCOV coverage report paths (Jest generates these)
sonar.javascript.lcov.reportPaths=coverage/lcov.info,coverage/**/lcov.info,apps/**/coverage/lcov.info,packages/**/coverage/lcov.info

# =============================================================================
# TypeScript Configuration
# =============================================================================

# TypeScript configuration file for type resolution
sonar.typescript.tsconfigPath=tsconfig.base.json

# =============================================================================
# Language-specific Settings
# =============================================================================

# Set the main language to TypeScript
sonar.language=ts

# File suffixes for TypeScript and JavaScript analysis
sonar.typescript.file.suffixes=.ts,.tsx
sonar.javascript.file.suffixes=.js,.jsx,.mjs,.cjs
